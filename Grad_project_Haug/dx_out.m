function  dx = dx_out(t, X)
   
L = 1.5;
m1 = 0.5;
m2 = 0.5;
mc = 4;
J1 = (1/12)*m1*L^2;
J2 = (1/12)*m2*L^2;
g = 9.81;
F = 0;

xc = X(1);
theta1 = X(2);
theta2 = X(3);
dxc = X(4);
dtheta1 = X(5);
dtheta2 = X(6);

d2xc = (2*F*L^4*m2^2 + 2*F*J1*J2 + 2*F*J1*L^2*m2 + 2*F*J2*L^2*m1 + 4*F*J2*L^2*m2 + 2*F*L^4*m1*m2 - 2*F*L^4*m2^2*cos(theta2)^2 + 2*L^5*dtheta1^2*m2^3*sin(theta1 + theta2) + 2*L^5*dtheta2^2*m2^3*sin(theta1 + theta2) + 2*L^5*dtheta1^2*m2^3*sin(theta1) + 2*L^5*dtheta1^2*m2^3*cos(theta1 + theta2)*sin(theta2) - 2*L^5*dtheta1^2*m2^3*cos(theta1)*sin(theta2) - 2*L^5*dtheta2^2*m2^3*cos(theta1)*sin(theta2) + 4*L^5*dtheta1*dtheta2*m2^3*sin(theta1 + theta2) - 2*L^5*dtheta1^2*m2^3*sin(theta1 + theta2)*cos(theta2)^2 - 2*L^5*dtheta2^2*m2^3*sin(theta1 + theta2)*cos(theta2)^2 + 2*J1*L^3*dtheta1^2*m2^2*sin(theta1 + theta2) + 2*J1*L^3*dtheta2^2*m2^2*sin(theta1 + theta2) + 4*J2*L^3*dtheta1^2*m2^2*sin(theta1 + theta2) + 4*J2*L^3*dtheta2^2*m2^2*sin(theta1 + theta2) - L^4*g*m2^3*cos(theta1 + theta2)*sin(theta1 + theta2) - 2*L^5*dtheta1^2*m2^3*cos(theta2)^2*sin(theta1) + 2*L^5*dtheta1^2*m1*m2^2*sin(theta1 + theta2) + 2*L^5*dtheta2^2*m1*m2^2*sin(theta1 + theta2) + 2*J1*L^3*dtheta1^2*m2^2*sin(theta1) + 2*J2*L^3*dtheta1^2*m1^2*sin(theta1) + 4*J2*L^3*dtheta1^2*m2^2*sin(theta1) + 4*F*J2*L^2*m2*cos(theta2) + 4*L^5*dtheta1^2*m1*m2^2*sin(theta1) + 2*L^5*dtheta1^2*m1^2*m2*sin(theta1) - 2*L^4*g*m2^3*cos(theta1)*sin(theta1) + 2*L^5*dtheta1^2*m2^3*cos(theta1 + theta2)*cos(theta2)*sin(theta2) + 2*L^5*dtheta2^2*m2^3*cos(theta1 + theta2)*cos(theta2)*sin(theta2) - L^4*g*m1*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) - 2*J2*L^2*g*m2^2*cos(theta1 + theta2)*sin(theta1) - J2*L^2*g*m2^2*sin(theta1 + theta2)*cos(theta1) - 2*L^5*dtheta1^2*m1*m2^2*cos(theta2)^2*sin(theta1) + 2*J1*J2*L*dtheta1^2*m2*sin(theta1 + theta2) + 2*J1*J2*L*dtheta2^2*m2*sin(theta1 + theta2) - 2*L^5*dtheta1^2*m2^3*cos(theta1)*cos(theta2)*sin(theta2) - J2*L^2*g*m1^2*cos(theta1)*sin(theta1) - 2*J2*L^2*g*m2^2*cos(theta1)*sin(theta1) + 2*J1*J2*L*dtheta1^2*m1*sin(theta1) + 2*J1*J2*L*dtheta1^2*m2*sin(theta1) - 4*L^5*dtheta1*dtheta2*m2^3*cos(theta1)*sin(theta2) - 3*L^4*g*m1*m2^2*cos(theta1)*sin(theta1) - L^4*g*m1^2*m2*cos(theta1)*sin(theta1) + 2*J1*L^3*dtheta1^2*m2^2*cos(theta1 + theta2)*sin(theta2) + 4*J2*L^3*dtheta1^2*m2^2*sin(theta1 + theta2)*cos(theta2) - 2*J2*L^3*dtheta2^2*m2^2*cos(theta1 + theta2)*sin(theta2) + 4*J2*L^3*dtheta2^2*m2^2*sin(theta1 + theta2)*cos(theta2) - 4*L^5*dtheta1*dtheta2*m2^3*sin(theta1 + theta2)*cos(theta2)^2 + 2*L^5*dtheta1^2*m1*m2^2*cos(theta1 + theta2)*sin(theta2) + 4*J2*L^3*dtheta1^2*m2^2*cos(theta2)*sin(theta1) - 2*J2*L^3*dtheta2^2*m2^2*cos(theta1)*sin(theta2) + 4*J1*L^3*dtheta1*dtheta2*m2^2*sin(theta1 + theta2) + 8*J2*L^3*dtheta1*dtheta2*m2^2*sin(theta1 + theta2) + 2*L^4*g*m2^3*cos(theta1 + theta2)*cos(theta2)*sin(theta1) + L^4*g*m2^3*sin(theta1 + theta2)*cos(theta1)*cos(theta2) + 2*J2*L^3*dtheta1^2*m1*m2*sin(theta1 + theta2) + 2*J2*L^3*dtheta2^2*m1*m2*sin(theta1 + theta2) - 2*L^5*dtheta1^2*m1*m2^2*cos(theta1)*sin(theta2) - 2*L^5*dtheta2^2*m1*m2^2*cos(theta1)*sin(theta2) + 4*L^5*dtheta1*dtheta2*m1*m2^2*sin(theta1 + theta2) + 2*J1*L^3*dtheta1^2*m1*m2*sin(theta1) + 6*J2*L^3*dtheta1^2*m1*m2*sin(theta1) - J1*L^2*g*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) - J2*L^2*g*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) + 4*L^5*dtheta1*dtheta2*m2^3*cos(theta1 + theta2)*cos(theta2)*sin(theta2) + L^4*g*m1*m2^2*cos(theta1 + theta2)*cos(theta2)*sin(theta1) + L^4*g*m1*m2^2*sin(theta1 + theta2)*cos(theta1)*cos(theta2) - J2*L^2*g*m1*m2*cos(theta1 + theta2)*sin(theta1) - J2*L^2*g*m1*m2*sin(theta1 + theta2)*cos(theta1) + 4*J1*J2*L*dtheta1*dtheta2*m2*sin(theta1 + theta2) - 3*J2*L^2*g*m1*m2*cos(theta1)*sin(theta1) - 4*J2*L^3*dtheta1*dtheta2*m2^2*cos(theta1 + theta2)*sin(theta2) + 8*J2*L^3*dtheta1*dtheta2*m2^2*sin(theta1 + theta2)*cos(theta2) - 2*L^5*dtheta1^2*m1*m2^2*cos(theta1)*cos(theta2)*sin(theta2) - 4*J2*L^3*dtheta1*dtheta2*m2^2*cos(theta1)*sin(theta2) + 4*J2*L^3*dtheta1^2*m1*m2*cos(theta2)*sin(theta1) - 2*J2*L^3*dtheta2^2*m1*m2*cos(theta1)*sin(theta2) + 4*J2*L^3*dtheta1*dtheta2*m1*m2*sin(theta1 + theta2) - 4*L^5*dtheta1*dtheta2*m1*m2^2*cos(theta1)*sin(theta2) - 4*J2*L^3*dtheta1*dtheta2*m1*m2*cos(theta1)*sin(theta2))/(2*(L^4*m2^3 - L^4*m2^3*cos(theta1)^2 - L^4*m2^3*cos(theta2)^2 + J1*L^2*m2^2 + J2*L^2*m1^2 + 2*J2*L^2*m2^2 + 2*L^4*m1*m2^2 + L^4*m1^2*m2 + L^4*m2^2*mc + J1*J2*m1 + J1*J2*m2 + J1*J2*mc - L^4*m2^3*cos(theta1 + theta2)^2 - J1*L^2*m2^2*cos(theta1 + theta2)^2 - J2*L^2*m2^2*cos(theta1 + theta2)^2 + J1*L^2*m1*m2 + 3*J2*L^2*m1*m2 + J1*L^2*m2*mc + J2*L^2*m1*mc + 2*J2*L^2*m2*mc - L^4*m1*m2^2*cos(theta1 + theta2)^2 + L^4*m1*m2*mc - J2*L^2*m1^2*cos(theta1)^2 - J2*L^2*m2^2*cos(theta1)^2 - 2*L^4*m1*m2^2*cos(theta1)^2 - L^4*m1^2*m2*cos(theta1)^2 - L^4*m1*m2^2*cos(theta2)^2 - L^4*m2^2*mc*cos(theta2)^2 + 2*J2*L^2*m2^2*cos(theta2) + 2*J2*L^2*m1*m2*cos(theta2) + 2*J2*L^2*m2*mc*cos(theta2) + 2*L^4*m2^3*cos(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*J2*L^2*m1*m2*cos(theta1)^2 - 2*J2*L^2*m2^2*cos(theta1 + theta2)*cos(theta1) + 2*L^4*m1*m2^2*cos(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*J2*L^2*m1*m2*cos(theta1 + theta2)*cos(theta1)));
d2theta1 = (2*L^3*g*m2^3*sin(theta1) + 2*L^4*dtheta1^2*m2^3*sin(theta2) + 2*L^4*dtheta2^2*m2^3*sin(theta2) - 2*F*L^3*m2^2*cos(theta1) - 2*F*L^3*m1*m2*cos(theta1) + J2*L*g*m1^2*sin(theta1) + 2*J2*L*g*m2^2*sin(theta1) - 2*L^4*dtheta1^2*m2^3*sin(theta1 + theta2)*cos(theta1) - 2*L^4*dtheta2^2*m2^3*sin(theta1 + theta2)*cos(theta1) - 2*L^3*g*m2^3*cos(theta1 + theta2)^2*sin(theta1) - 2*F*J2*L*m2*cos(theta1 + theta2) - 2*L^4*dtheta1^2*m2^3*cos(theta1)*sin(theta1) + 2*L^4*dtheta1^2*m2^3*cos(theta2)*sin(theta2) - 2*F*J2*L*m1*cos(theta1) - 2*F*J2*L*m2*cos(theta1) + 4*L^4*dtheta1*dtheta2*m2^3*sin(theta2) - 2*L^4*dtheta1^2*m2^3*cos(theta1 + theta2)^2*sin(theta2) - 2*L^4*dtheta2^2*m2^3*cos(theta1 + theta2)^2*sin(theta2) + 3*L^3*g*m1*m2^2*sin(theta1) + L^3*g*m1^2*m2*sin(theta1) + 2*L^3*g*m2^2*mc*sin(theta1) + 2*F*L^3*m2^2*cos(theta1 + theta2)*cos(theta2) + 2*J2*L^2*dtheta2^2*m2^2*sin(theta2) - L^3*g*m2^3*sin(theta1 + theta2)*cos(theta2) + J2*L*g*m2^2*sin(theta1 + theta2) + 2*L^4*dtheta1^2*m1*m2^2*sin(theta2) + 2*L^4*dtheta2^2*m1*m2^2*sin(theta2) + 2*L^4*dtheta1^2*m2^2*mc*sin(theta2) + 2*L^4*dtheta2^2*m2^2*mc*sin(theta2) - 2*L^4*dtheta1^2*m2^3*cos(theta1 + theta2)*cos(theta1)*sin(theta2) + 2*L^4*dtheta1^2*m2^3*cos(theta1 + theta2)*cos(theta2)*sin(theta1) + 3*J2*L*g*m1*m2*sin(theta1) + J2*L*g*m1*mc*sin(theta1) + 2*J2*L*g*m2*mc*sin(theta1) - 4*L^4*dtheta1*dtheta2*m2^3*sin(theta1 + theta2)*cos(theta1) - L^3*g*m1*m2^2*sin(theta1 + theta2)*cos(theta2) - L^3*g*m2^2*mc*sin(theta1 + theta2)*cos(theta2) - 2*J2*L^2*dtheta1^2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) - 2*J2*L^2*dtheta2^2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) - 2*J2*L^2*dtheta1^2*m2^2*cos(theta1 + theta2)*sin(theta1) - 2*J2*L^2*dtheta1^2*m2^2*sin(theta1 + theta2)*cos(theta1) - 2*J2*L^2*dtheta2^2*m2^2*sin(theta1 + theta2)*cos(theta1) + L^3*g*m2^3*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta1) - 4*L^4*dtheta1*dtheta2*m2^3*cos(theta1 + theta2)^2*sin(theta2) - 2*L^4*dtheta1^2*m1*m2^2*sin(theta1 + theta2)*cos(theta1) - 2*L^4*dtheta2^2*m1*m2^2*sin(theta1 + theta2)*cos(theta1) - L^3*g*m1*m2^2*cos(theta1 + theta2)^2*sin(theta1) + L^3*g*m1*m2*mc*sin(theta1) - 2*J2*L^2*dtheta1^2*m1^2*cos(theta1)*sin(theta1) - 2*J2*L^2*dtheta1^2*m2^2*cos(theta1)*sin(theta1) - 4*L^4*dtheta1^2*m1*m2^2*cos(theta1)*sin(theta1) - 2*L^4*dtheta1^2*m1^2*m2*cos(theta1)*sin(theta1) + 2*L^4*dtheta1^2*m1*m2^2*cos(theta2)*sin(theta2) + 2*L^4*dtheta1^2*m2^2*mc*cos(theta2)*sin(theta2) + 4*J2*L^2*dtheta1*dtheta2*m2^2*sin(theta2) + 2*L^4*dtheta1^2*m2^3*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta2) + 2*L^4*dtheta2^2*m2^3*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta2) + 2*J2*L^2*dtheta2^2*m1*m2*sin(theta2) + 2*J2*L^2*dtheta2^2*m2*mc*sin(theta2) + J2*L*g*m1*m2*sin(theta1 + theta2) + J2*L*g*m2*mc*sin(theta1 + theta2) + 4*L^4*dtheta1*dtheta2*m1*m2^2*sin(theta2) + 4*L^4*dtheta1*dtheta2*m2^2*mc*sin(theta2) - 4*J2*L^2*dtheta1*dtheta2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) - 2*L^4*dtheta1^2*m1*m2^2*cos(theta1 + theta2)*cos(theta1)*sin(theta2) + 2*L^4*dtheta1^2*m1*m2^2*cos(theta1 + theta2)*cos(theta2)*sin(theta1) - 4*J2*L^2*dtheta1*dtheta2*m2^2*sin(theta1 + theta2)*cos(theta1) - 2*J2*L^2*dtheta1^2*m1*m2*cos(theta1 + theta2)*sin(theta1) - 2*J2*L^2*dtheta1^2*m1*m2*sin(theta1 + theta2)*cos(theta1) - 2*J2*L^2*dtheta2^2*m1*m2*sin(theta1 + theta2)*cos(theta1) - 4*L^4*dtheta1*dtheta2*m1*m2^2*sin(theta1 + theta2)*cos(theta1) - 4*J2*L^2*dtheta1^2*m1*m2*cos(theta1)*sin(theta1) + 4*L^4*dtheta1*dtheta2*m2^3*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta2) + 4*J2*L^2*dtheta1*dtheta2*m1*m2*sin(theta2) + 4*J2*L^2*dtheta1*dtheta2*m2*mc*sin(theta2) + L^3*g*m1*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta1) - 4*J2*L^2*dtheta1*dtheta2*m1*m2*sin(theta1 + theta2)*cos(theta1))/(2*(L^4*m2^3 - L^4*m2^3*cos(theta1)^2 - L^4*m2^3*cos(theta2)^2 + J1*L^2*m2^2 + J2*L^2*m1^2 + 2*J2*L^2*m2^2 + 2*L^4*m1*m2^2 + L^4*m1^2*m2 + L^4*m2^2*mc + J1*J2*m1 + J1*J2*m2 + J1*J2*mc - L^4*m2^3*cos(theta1 + theta2)^2 - J1*L^2*m2^2*cos(theta1 + theta2)^2 - J2*L^2*m2^2*cos(theta1 + theta2)^2 + J1*L^2*m1*m2 + 3*J2*L^2*m1*m2 + J1*L^2*m2*mc + J2*L^2*m1*mc + 2*J2*L^2*m2*mc - L^4*m1*m2^2*cos(theta1 + theta2)^2 + L^4*m1*m2*mc - J2*L^2*m1^2*cos(theta1)^2 - J2*L^2*m2^2*cos(theta1)^2 - 2*L^4*m1*m2^2*cos(theta1)^2 - L^4*m1^2*m2*cos(theta1)^2 - L^4*m1*m2^2*cos(theta2)^2 - L^4*m2^2*mc*cos(theta2)^2 + 2*J2*L^2*m2^2*cos(theta2) + 2*J2*L^2*m1*m2*cos(theta2) + 2*J2*L^2*m2*mc*cos(theta2) + 2*L^4*m2^3*cos(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*J2*L^2*m1*m2*cos(theta1)^2 - 2*J2*L^2*m2^2*cos(theta1 + theta2)*cos(theta1) + 2*L^4*m1*m2^2*cos(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*J2*L^2*m1*m2*cos(theta1 + theta2)*cos(theta1)));
d2theta2 = -(L*m2*(2*F*J1*cos(theta1 + theta2) + L^2*g*m1^2*sin(theta1) + 2*L^2*g*m2^2*sin(theta1) - J1*g*m1*sin(theta1 + theta2) - J1*g*m2*sin(theta1 + theta2) - J1*g*mc*sin(theta1 + theta2) + 2*F*L^2*m1*cos(theta1 + theta2) + 2*F*L^2*m2*cos(theta1 + theta2) + 2*L^3*dtheta1^2*m1^2*sin(theta2) + 4*L^3*dtheta1^2*m2^2*sin(theta2) + 2*L^3*dtheta2^2*m2^2*sin(theta2) - 2*F*L^2*m1*cos(theta1) - 2*F*L^2*m2*cos(theta1) - L^2*g*m1^2*sin(theta1 + theta2) - L^2*g*m2^2*sin(theta1 + theta2) + 2*L^3*dtheta1^2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) + 2*L^3*dtheta2^2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) - 2*L^2*g*m1*m2*sin(theta1 + theta2) - L^2*g*m1*mc*sin(theta1 + theta2) - L^2*g*m2*mc*sin(theta1 + theta2) + 2*J1*L*dtheta1^2*m1*sin(theta2) + 2*J1*L*dtheta1^2*m2*sin(theta2) + 2*J1*L*dtheta1^2*mc*sin(theta2) + 2*L^3*dtheta1^2*m1^2*cos(theta1 + theta2)*sin(theta1) + 2*L^3*dtheta1^2*m2^2*cos(theta1 + theta2)*sin(theta1) - 2*L^3*dtheta1^2*m2^2*sin(theta1 + theta2)*cos(theta1) - 2*L^3*dtheta2^2*m2^2*sin(theta1 + theta2)*cos(theta1) + L^2*g*m1^2*sin(theta1 + theta2)*cos(theta1)^2 + L^2*g*m2^2*sin(theta1 + theta2)*cos(theta1)^2 - 2*L^2*g*m2^2*cos(theta1 + theta2)^2*sin(theta1) + 3*L^2*g*m1*m2*sin(theta1) + L^2*g*m1*mc*sin(theta1) + 2*L^2*g*m2*mc*sin(theta1) + 2*F*L^2*m2*cos(theta1 + theta2)*cos(theta2) - 2*L^3*dtheta1^2*m1^2*cos(theta1)*sin(theta1) - 2*L^3*dtheta1^2*m2^2*cos(theta1)*sin(theta1) + 4*L^3*dtheta1^2*m2^2*cos(theta2)*sin(theta2) + 2*L^3*dtheta2^2*m2^2*cos(theta2)*sin(theta2) - 2*F*L^2*m1*cos(theta1)*cos(theta2) - 2*F*L^2*m2*cos(theta1)*cos(theta2) + 4*L^3*dtheta1*dtheta2*m2^2*sin(theta2) - 2*L^3*dtheta1^2*m2^2*cos(theta1 + theta2)^2*sin(theta2) - 2*L^3*dtheta2^2*m2^2*cos(theta1 + theta2)^2*sin(theta2) + 6*L^3*dtheta1^2*m1*m2*sin(theta2) + 2*L^3*dtheta2^2*m1*m2*sin(theta2) + 2*L^3*dtheta1^2*m1*mc*sin(theta2) + 4*L^3*dtheta1^2*m2*mc*sin(theta2) + 2*L^3*dtheta2^2*m2*mc*sin(theta2) - 2*L^3*dtheta1^2*m1^2*cos(theta1)^2*sin(theta2) - 2*L^3*dtheta1^2*m2^2*cos(theta1)^2*sin(theta2) - L^2*g*m2^2*sin(theta1 + theta2)*cos(theta2) + L^2*g*m1^2*cos(theta2)*sin(theta1) + 2*L^2*g*m2^2*cos(theta2)*sin(theta1) - 4*L^3*dtheta1^2*m2^2*cos(theta1 + theta2)*cos(theta1)*sin(theta2) + 2*L^3*dtheta1^2*m2^2*cos(theta1 + theta2)*cos(theta2)*sin(theta1) - 2*L^3*dtheta1^2*m2^2*sin(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*L^3*dtheta2^2*m2^2*cos(theta1 + theta2)*cos(theta1)*sin(theta2) - 2*L^3*dtheta2^2*m2^2*sin(theta1 + theta2)*cos(theta1)*cos(theta2) + 4*L^3*dtheta1*dtheta2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2) + 3*L^2*g*m1*m2*cos(theta2)*sin(theta1) + L^2*g*m1*mc*cos(theta2)*sin(theta1) + 2*L^2*g*m2*mc*cos(theta2)*sin(theta1) + 2*L^3*dtheta1^2*m1*m2*cos(theta1 + theta2)*sin(theta1 + theta2) + 2*L^3*dtheta2^2*m1*m2*cos(theta1 + theta2)*sin(theta1 + theta2) - 2*L^3*dtheta1^2*m1^2*cos(theta1)*cos(theta2)*sin(theta1) - 2*L^3*dtheta1^2*m2^2*cos(theta1)*cos(theta2)*sin(theta1) - 4*L^3*dtheta1*dtheta2*m2^2*sin(theta1 + theta2)*cos(theta1) + 4*L^3*dtheta1^2*m1*m2*cos(theta1 + theta2)*sin(theta1) - 2*L^3*dtheta1^2*m1*m2*sin(theta1 + theta2)*cos(theta1) - 2*L^3*dtheta2^2*m1*m2*sin(theta1 + theta2)*cos(theta1) + 2*L^2*g*m1*m2*sin(theta1 + theta2)*cos(theta1)^2 - L^2*g*m1*m2*cos(theta1 + theta2)^2*sin(theta1) + 4*L^3*dtheta1*dtheta2*m2^2*cos(theta2)*sin(theta2) - 4*L^3*dtheta1^2*m1*m2*cos(theta1)*sin(theta1) + 4*L^3*dtheta1^2*m1*m2*cos(theta2)*sin(theta2) + 2*L^3*dtheta2^2*m1*m2*cos(theta2)*sin(theta2) + 4*L^3*dtheta1^2*m2*mc*cos(theta2)*sin(theta2) + 2*L^3*dtheta2^2*m2*mc*cos(theta2)*sin(theta2) + L^2*g*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta1) + 2*J1*L*dtheta1^2*m2*cos(theta1 + theta2)*sin(theta1 + theta2) + 2*J1*L*dtheta2^2*m2*cos(theta1 + theta2)*sin(theta1 + theta2) - 4*L^3*dtheta1*dtheta2*m2^2*cos(theta1 + theta2)^2*sin(theta2) + 4*L^3*dtheta1*dtheta2*m1*m2*sin(theta2) + 4*L^3*dtheta1*dtheta2*m2*mc*sin(theta2) - L^2*g*m1^2*cos(theta1 + theta2)*cos(theta1)*sin(theta1) - 2*L^2*g*m2^2*cos(theta1 + theta2)*cos(theta1)*sin(theta1) + 2*J1*L*dtheta1^2*m1*cos(theta1 + theta2)*sin(theta1) + 2*J1*L*dtheta1^2*m2*cos(theta1 + theta2)*sin(theta1) - 4*L^3*dtheta1^2*m1*m2*cos(theta1)^2*sin(theta2) + 2*L^3*dtheta1^2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta2) + 2*L^3*dtheta2^2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta2) - L^2*g*m1*m2*sin(theta1 + theta2)*cos(theta2) - L^2*g*m2*mc*sin(theta1 + theta2)*cos(theta2) - 4*L^3*dtheta1*dtheta2*m2^2*cos(theta1 + theta2)*cos(theta1)*sin(theta2) - 4*L^3*dtheta1*dtheta2*m2^2*sin(theta1 + theta2)*cos(theta1)*cos(theta2) - 4*L^3*dtheta1^2*m1*m2*cos(theta1 + theta2)*cos(theta1)*sin(theta2) + 2*L^3*dtheta1^2*m1*m2*cos(theta1 + theta2)*cos(theta2)*sin(theta1) - 2*L^3*dtheta1^2*m1*m2*sin(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*L^3*dtheta2^2*m1*m2*cos(theta1 + theta2)*cos(theta1)*sin(theta2) - 2*L^3*dtheta2^2*m1*m2*sin(theta1 + theta2)*cos(theta1)*cos(theta2) + 4*L^3*dtheta1*dtheta2*m1*m2*cos(theta1 + theta2)*sin(theta1 + theta2) - 4*L^3*dtheta1^2*m1*m2*cos(theta1)*cos(theta2)*sin(theta1) - 4*L^3*dtheta1*dtheta2*m1*m2*sin(theta1 + theta2)*cos(theta1) + 4*L^3*dtheta1*dtheta2*m1*m2*cos(theta2)*sin(theta2) + 4*L^3*dtheta1*dtheta2*m2*mc*cos(theta2)*sin(theta2) + L^2*g*m1*m2*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta1) + 4*J1*L*dtheta1*dtheta2*m2*cos(theta1 + theta2)*sin(theta1 + theta2) - 3*L^2*g*m1*m2*cos(theta1 + theta2)*cos(theta1)*sin(theta1) + 4*L^3*dtheta1*dtheta2*m2^2*cos(theta1 + theta2)*sin(theta1 + theta2)*cos(theta2) - 4*L^3*dtheta1*dtheta2*m1*m2*cos(theta1 + theta2)*cos(theta1)*sin(theta2) - 4*L^3*dtheta1*dtheta2*m1*m2*sin(theta1 + theta2)*cos(theta1)*cos(theta2)))/(2*(L^4*m2^3 - L^4*m2^3*cos(theta1)^2 - L^4*m2^3*cos(theta2)^2 + J1*L^2*m2^2 + J2*L^2*m1^2 + 2*J2*L^2*m2^2 + 2*L^4*m1*m2^2 + L^4*m1^2*m2 + L^4*m2^2*mc + J1*J2*m1 + J1*J2*m2 + J1*J2*mc - L^4*m2^3*cos(theta1 + theta2)^2 - J1*L^2*m2^2*cos(theta1 + theta2)^2 - J2*L^2*m2^2*cos(theta1 + theta2)^2 + J1*L^2*m1*m2 + 3*J2*L^2*m1*m2 + J1*L^2*m2*mc + J2*L^2*m1*mc + 2*J2*L^2*m2*mc - L^4*m1*m2^2*cos(theta1 + theta2)^2 + L^4*m1*m2*mc - J2*L^2*m1^2*cos(theta1)^2 - J2*L^2*m2^2*cos(theta1)^2 - 2*L^4*m1*m2^2*cos(theta1)^2 - L^4*m1^2*m2*cos(theta1)^2 - L^4*m1*m2^2*cos(theta2)^2 - L^4*m2^2*mc*cos(theta2)^2 + 2*J2*L^2*m2^2*cos(theta2) + 2*J2*L^2*m1*m2*cos(theta2) + 2*J2*L^2*m2*mc*cos(theta2) + 2*L^4*m2^3*cos(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*J2*L^2*m1*m2*cos(theta1)^2 - 2*J2*L^2*m2^2*cos(theta1 + theta2)*cos(theta1) + 2*L^4*m1*m2^2*cos(theta1 + theta2)*cos(theta1)*cos(theta2) - 2*J2*L^2*m1*m2*cos(theta1 + theta2)*cos(theta1)));

dx = [dxc; dtheta1; dtheta2; d2xc; d2theta1; d2theta2];

end